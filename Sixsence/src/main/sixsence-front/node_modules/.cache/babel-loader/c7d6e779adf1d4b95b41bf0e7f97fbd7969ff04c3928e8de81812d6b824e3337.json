{"ast":null,"code":"import React,{useContext,useEffect,useState}from\"react\";import axios from\"axios\";import MypageModal from\"./MypageModal\";import Modal from\"react-modal\";import{useNavigate}from\"react-router-dom\";import LoginContext from\"../login/LoginContext\";import\"./MypageCss.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement(\"#root\");const MypageDeleteAccount=()=>{const loginMem=JSON.parse(localStorage.getItem(\"loginMember\"));const[checkPw,setCheckPw]=useState(false);const[inputPw,setInputPw]=useState(\"\");const[modalOpen,setModalOpen]=useState(false);const[cancelList,setCancelList]=useState('');const navi=useNavigate();const{loginMember,setLoginMember}=useContext(LoginContext);const checkPwBtn=()=>{if(inputPw===loginMem.memberPw){setCheckPw(true);}else{alert(\"비밀번호가 일치하지 않습니다.\\n다시 입력해주세요.\");setInputPw(\"\");}};const deleteBtn=memberNo=>{axios.delete('/deleteAccount',{params:{memberNo:memberNo}}).then(result=>{alert(\"그동안 이용해주셔서 감사합니다.\");setLoginMember(null);localStorage.removeItem(\"loginMember\");navi('/');}).catch(error=>{alert(\"회원탈퇴 중 에러가 발생하여 실패하였습니다.\");});};const openModal=cancel=>{setModalOpen(true);setCancelList(cancel);};const closeModal=()=>{setModalOpen(false);};const handleButtonClick=input=>{if(input!==\"Cancel\"){setTimeout(function(){deleteBtn(input);},500);}closeModal();};useEffect(()=>{},[checkPw]);return/*#__PURE__*/_jsxs(\"div\",{className:\"contentMainContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"outBox\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inBox\",children:checkPw===false?/*#__PURE__*/_jsxs(\"div\",{className:\"checkPwBox\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uAC1C\\uC778 \\uC815\\uBCF4\\uB97C \\uC548\\uC804\\uD558\\uAC8C \\uBCF4\\uD638\\uD558\\uAE30\\uC704\\uD574 \",/*#__PURE__*/_jsx(\"br\",{}),\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C\\uD55C\\uBC88 \\uB354 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:inputPw,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uC785\\uB825\",onChange:e=>setInputPw(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"checkPwBtn\",onClick:checkPwBtn,children:\"\\uD655\\uC778\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"delContentBox\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Sixsence \\uD68C\\uC6D0\\uD0C8\\uD1F4 \\uC548\\uB0B4\\uC0AC\\uD56D\\uC744 \\uBC18\\uB4DC\\uC2DC \\uD655\\uC778\\uD574 \\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"1. \\uD68C\\uC6D0\\uD0C8\\uD1F4\\uC2DC \\uCC98\\uB9AC \\uB0B4\\uC6A9 \",/*#__PURE__*/_jsx(\"br\",{}),\"(1) \\uD3EC\\uC778\\uD2B8 : \\uC794\\uC5EC \\uD3EC\\uC778\\uD2B8\\uB294 \\uC18C\\uBA78\\uB418\\uBA70 \\uD658\\uBD88\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\",/*#__PURE__*/_jsx(\"br\",{}),\"(2) \\uBCF4\\uC720 \\uC815\\uBCF4 : \\uAD6C\\uB9E4 \\uC815\\uBCF4\\uB294 \\uC0AD\\uC81C\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"2. \\uD68C\\uC6D0\\uD0C8\\uD1F4\\uC2DC \\uAC8C\\uC2DC\\uBB3C \\uAD00\\uB9AC \\uD68C\\uC6D0\\uD0C8\\uD1F4 \\uD6C4 \\uB2F9\\uC0AC \\uC0AC\\uC774\\uD2B8\\uC5D0 \\uC785\\uB825\\uD558\\uC2E0 \\uAC8C\\uC2DC\\uBB3C\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uBC0F \\uB313\\uAE00\\uC740 \\uC0AD\\uC81C\\uB418\\uC9C0 \\uC54A\\uC73C\\uBA70, \\uD68C\\uC6D0\\uC815\\uBCF4 \\uC0AD\\uC81C\\uB85C \\uC778\\uD574 \\uC791\\uC131\\uC790 \\uBCF8\\uC778\\uC744 \\uD655\\uC778\\uD560\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uC218 \\uC5C6\\uC73C\\uBBC0\\uB85C \\uAC8C\\uC2DC\\uBB3C \\uD3B8\\uC9D1 \\uBC0F \\uC0AD\\uC81C \\uCC98\\uB9AC\\uAC00 \\uC6D0\\uCC9C\\uC801\\uC73C\\uB85C \\uBD88\\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uAC8C\\uC2DC\\uBB3C \\uC0AD\\uC81C\\uB97C \\uC6D0\\uD558\\uC2DC\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uBA3C\\uC800 \\uD574\\uB2F9 \\uAC8C\\uC2DC\\uBB3C\\uC744 \\uC0AD\\uC81C\\uD558\\uC2E0 \\uD6C4,\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uD0C8\\uD1F4\\uB97C \\uC9C4\\uD589\\uD558\\uC2DC\\uAE30 \\uBC14\\uB78D\\uB2C8\\uB2E4.\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"3. \\uD68C\\uC6D0\\uD0C8\\uD1F4 \\uD6C4 \\uC7AC\\uAC00\\uC785\\uADDC\\uC815 \\uD0C8\\uD1F4 \\uD68C\\uC6D0\\uC774 \\uC7AC\\uAC00\\uC785\\uD558\\uB354\\uB77C\\uB3C4\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uAE30\\uC874\\uC758 \\uD3EC\\uC778\\uD2B8\\uB294 \\uC774\\uBBF8 \\uC18C\\uBA78\\uB418\\uC5C8\\uC73C\\uBBC0\\uB85C \\uD604\\uC7AC\\uC758 \\uD3EC\\uC778\\uD2B8\\uC5D0 \\uC591\\uB3C4\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"delBtn\",onClick:e=>openModal(loginMem.memberNo),children:\"\\uD68C\\uC6D0 \\uD0C8\\uD1F4\"})]})})}),/*#__PURE__*/_jsx(MypageModal,{modalOpen:modalOpen,cancelList:cancelList,handleButtonClick:handleButtonClick,handleComment:\"delAccount\"})]});};export default MypageDeleteAccount;","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","MypageModal","Modal","useNavigate","LoginContext","jsx","_jsx","jsxs","_jsxs","setAppElement","MypageDeleteAccount","loginMem","JSON","parse","localStorage","getItem","checkPw","setCheckPw","inputPw","setInputPw","modalOpen","setModalOpen","cancelList","setCancelList","navi","loginMember","setLoginMember","checkPwBtn","memberPw","alert","deleteBtn","memberNo","delete","params","then","result","removeItem","catch","error","openModal","cancel","closeModal","handleButtonClick","input","setTimeout","className","children","type","value","placeholder","onChange","e","target","onClick","handleComment"],"sources":["C:/Users/user1/Desktop/sixsence/Sixsence/src/main/sixsence-front/src/mypage/MypageDeleteAccount.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport MypageModal from \"./MypageModal\";\r\nimport Modal from \"react-modal\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport LoginContext from \"../login/LoginContext\";\r\nimport \"./MypageCss.css\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst MypageDeleteAccount = () => {\r\n  const loginMem = JSON.parse(localStorage.getItem(\"loginMember\"));\r\n  const [checkPw, setCheckPw] = useState(false);\r\n  const [inputPw, setInputPw] = useState(\"\");\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [cancelList, setCancelList] = useState('');\r\n  const navi = useNavigate();\r\n  const {loginMember, setLoginMember} = useContext(LoginContext);\r\n\r\n  const checkPwBtn = () => {\r\n    if (inputPw === loginMem.memberPw) {\r\n      setCheckPw(true);\r\n    } else {\r\n      alert(\"비밀번호가 일치하지 않습니다.\\n다시 입력해주세요.\");\r\n      setInputPw(\"\");\r\n    }\r\n  };\r\n\r\n  const deleteBtn = (memberNo) => {\r\n    axios.delete('/deleteAccount', {params: {memberNo : memberNo}})\r\n    .then(result => {\r\n        alert(\"그동안 이용해주셔서 감사합니다.\");\r\n\r\n        setLoginMember(null);\r\n        localStorage.removeItem(\"loginMember\");\r\n        navi('/');\r\n    })\r\n    .catch(error => {\r\n        alert(\"회원탈퇴 중 에러가 발생하여 실패하였습니다.\");\r\n    })\r\n  };\r\n\r\n  const openModal = (cancel) => {\r\n    setModalOpen(true);\r\n    setCancelList(cancel);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n  const handleButtonClick = (input) => {\r\n    if (input !== \"Cancel\") {\r\n      setTimeout(function () {\r\n        deleteBtn(input);\r\n      }, 500);\r\n    }\r\n    closeModal();\r\n  };\r\n\r\n  useEffect(() => {}, [checkPw]);\r\n\r\n  return (\r\n    <div className=\"contentMainContainer\">\r\n      <div className=\"outBox\">\r\n        <div className=\"inBox\">\r\n          {checkPw === false ? (\r\n            <div className=\"checkPwBox\">\r\n              <p>\r\n                개인 정보를 안전하게 보호하기위해 <br />\r\n                비밀번호를한번 더 입력해주세요.\r\n              </p>\r\n              <input\r\n                type=\"password\"\r\n                value={inputPw}\r\n                placeholder=\"비밀번호 입력\"\r\n                onChange={(e) => setInputPw(e.target.value)}\r\n              />\r\n              <br />\r\n              <button className=\"checkPwBtn\" onClick={checkPwBtn}>\r\n                확인\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"delContentBox\">\r\n              <h5>Sixsence 회원탈퇴 안내사항을 반드시 확인해 주세요.</h5>\r\n              <p>\r\n                1. 회원탈퇴시 처리 내용 <br/>\r\n                (1) 포인트 : 잔여 포인트는 소멸되며 환불되지 않습니다.<br />\r\n                (2) 보유 정보 : 구매 정보는 삭제되지 않습니다. <br /><br />\r\n                2. 회원탈퇴시 게시물 관리 회원탈퇴 후 당사 사이트에 입력하신 게시물<br/>\r\n                및 댓글은 삭제되지 않으며, 회원정보 삭제로 인해 작성자 본인을 확인할<br/>\r\n                수 없으므로 게시물 편집 및 삭제 처리가 원천적으로 불가능합니다.<br/> \r\n                게시물 삭제를 원하시는 경우에는 먼저 해당 게시물을 삭제하신 후,<br />\r\n                탈퇴를 진행하시기 바랍니다.<br/><br/>\r\n                3. 회원탈퇴 후 재가입규정 탈퇴 회원이 재가입하더라도<br/> \r\n                기존의 포인트는 이미 소멸되었으므로 현재의 포인트에 양도되지 않습니다.\r\n              </p>\r\n              <button className=\"delBtn\" onClick={e => openModal(loginMem.memberNo)}>\r\n                회원 탈퇴\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <MypageModal\r\n        modalOpen={modalOpen}\r\n        cancelList={cancelList}\r\n        handleButtonClick={handleButtonClick}\r\n        handleComment={\"delAccount\"}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MypageDeleteAccount;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}