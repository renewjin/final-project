{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from'react-router-dom';import'../css/AdminObo.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminObo=()=>{const[oboData,setOboData]=useState([]);// 문의 데이터 상태 관리\nconst[currentPage,setCurrentPage]=useState(1);// 현재 페이지 상태 관리\nconst[itemPerPage]=useState(6);// 페이지당 항목 수 설정\nuseEffect(()=>{axios.get(\"/api/oboList\").then(response=>{setOboData(response.data);console.log(\"oboData:\",oboData);}).catch(e=>alert(\"에러가 발생하였습니다.\"));},[]);// 페이지 번호를 변경하는 함수\nconst paginate=pageNumber=>setCurrentPage(pageNumber);// 페이지 번호 변경을 위한 함수\n// 페이지 네이션 함수\nconst lastItemIndex=currentPage*itemPerPage;// 현재 페이지의 마지막 항목 인덱스 계산\nconst firstItemIndex=lastItemIndex-itemPerPage;// 현재 페이지의 첫 번째 항목 인덱스 계산\nconst currentItems=oboData.slice(firstItemIndex,lastItemIndex);// 현재 페이지에 해당하는 데이터만 추출\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container-admin\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uC77C\\uB300\\uC77C\\uBB38\\uC758 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-button\",children:/*#__PURE__*/_jsx(Link,{to:\"/CustomerBoard\",children:\"\\uB3CC\\uC544\\uAC00\\uAE30\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC601\\uD654\\uAD00\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC9C8\\uBB38\\uC720\\uD615\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD0DC\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentItems.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.oboNo}),/*#__PURE__*/_jsx(\"td\",{children:item.memberName}),/*#__PURE__*/_jsx(\"td\",{children:item.oboMovieType==='gangnam'?'강남':item.oboMovieType==='yeoksam'?'역삼':item.oboMovieType}),/*#__PURE__*/_jsx(\"td\",{children:item.oboInquiryType==='general'?'일반문의':item.oboInquiryType==='technical'?'기술문의':item.oboInquiryType==='payment'?'결제문의':item.oboInquiryType}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:`/AdminAnswer/${item.oboNo}`,children:item.oboTitle})}),/*#__PURE__*/_jsx(\"td\",{children:item.oboCreateDate}),/*#__PURE__*/_jsx(\"td\",{children:item.oboStatus==='y'?'답변완료':item.oboStatus==='n'?'답변대기중':item.oboStatus})]},item.oboNo))})]})}),/*#__PURE__*/_jsx(Pagination,{itemPerPage:itemPerPage// 페이지당 항목 수 전달\n,totalItems:oboData.length// 전체 항목 수 전달\n,paginate:paginate// 페이지 변경 함수 전달\n,currentPage:currentPage// 현재 페이지 전달\n})]});};// 페이지네이션 컴포넌트를 AdminObo 바깥으로 이동\nconst Pagination=_ref=>{let{itemPerPage,totalItems,paginate,currentPage}=_ref;const pageNumbers=[];for(let i=1;i<=Math.ceil(totalItems/itemPerPage);i++){pageNumbers.push(i);}return/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"pagination justify-content-center\",children:pageNumbers.map(number=>/*#__PURE__*/_jsx(\"li\",{className:`page-item ${currentPage===number?'active':''}`,children:/*#__PURE__*/_jsx(\"a\",{onClick:e=>{e.preventDefault();paginate(number);},href:\"!#\",className:\"page-link\",children:number})},number))})});};export default AdminObo;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","AdminObo","oboData","setOboData","currentPage","setCurrentPage","itemPerPage","get","then","response","data","console","log","catch","e","alert","paginate","pageNumber","lastItemIndex","firstItemIndex","currentItems","slice","className","children","to","map","item","oboNo","memberName","oboMovieType","oboInquiryType","oboTitle","oboCreateDate","oboStatus","Pagination","totalItems","length","_ref","pageNumbers","i","Math","ceil","push","number","onClick","preventDefault","href"],"sources":["C:/Users/user1/Desktop/sixsence/Sixsence/src/main/sixsence-front/src/board/AdminObo.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from 'react-router-dom';\r\nimport '../css/AdminObo.css'\r\n\r\nconst AdminObo = () => {\r\n  const [oboData, setOboData] = useState([]); // 문의 데이터 상태 관리\r\n  const [currentPage, setCurrentPage] = useState(1); // 현재 페이지 상태 관리\r\n  const [itemPerPage] = useState(6); // 페이지당 항목 수 설정\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/api/oboList\")\r\n      .then(response => {\r\n        setOboData(response.data);\r\n        console.log(\"oboData:\", oboData);\r\n      }) \r\n      .catch(e => alert(\"에러가 발생하였습니다.\"));\r\n  }, []);\r\n\r\n  // 페이지 번호를 변경하는 함수\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber); // 페이지 번호 변경을 위한 함수\r\n\r\n  // 페이지 네이션 함수\r\n  const lastItemIndex = currentPage * itemPerPage; // 현재 페이지의 마지막 항목 인덱스 계산\r\n  const firstItemIndex = lastItemIndex - itemPerPage; // 현재 페이지의 첫 번째 항목 인덱스 계산\r\n  const currentItems = oboData.slice(firstItemIndex, lastItemIndex); // 현재 페이지에 해당하는 데이터만 추출\r\n\r\n  return (\r\n    <div className=\"container-admin\">\r\n      <h1>일대일문의 목록</h1>\r\n      <button className=\"admin-button\"><Link to={\"/CustomerBoard\"}>돌아가기</Link></button>\r\n      <div className=\"admin-table-responsive\">\r\n        <table>\r\n        <thead>\r\n        <tr >\r\n              <th>번호</th>\r\n              <th>작성자</th>\r\n              <th>영화관</th>\r\n              <th>질문유형</th>\r\n              <th>제목</th>\r\n              <th>작성일</th>\r\n              <th>상태</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {currentItems.map(item => (\r\n              <tr key={item.oboNo}>\r\n                <td>{item.oboNo}</td>\r\n                <td>{item.memberName}</td>\r\n                <td>{item.oboMovieType === 'gangnam' ? '강남' : item.oboMovieType === 'yeoksam' ? '역삼' : item.oboMovieType}</td>\r\n                <td>{item.oboInquiryType === 'general' ? '일반문의' : item.oboInquiryType === 'technical' ? '기술문의' : item.oboInquiryType === 'payment' ? '결제문의' : item.oboInquiryType}</td>\r\n                {/* 제목을 클릭하면 AdminAnswer 페이지로 이동 */}\r\n                <td><Link to={`/AdminAnswer/${item.oboNo}`}>{item.oboTitle}</Link></td>\r\n                <td>{item.oboCreateDate}</td>\r\n                <td>{item.oboStatus === 'y' ? '답변완료' : item.oboStatus === 'n' ? '답변대기중':item.oboStatus}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {/* 페이지네이션 */}\r\n      <Pagination\r\n        itemPerPage={itemPerPage} // 페이지당 항목 수 전달\r\n        totalItems={oboData.length} // 전체 항목 수 전달\r\n        paginate={paginate} // 페이지 변경 함수 전달\r\n        currentPage={currentPage} // 현재 페이지 전달\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// 페이지네이션 컴포넌트를 AdminObo 바깥으로 이동\r\nconst Pagination = ({ itemPerPage, totalItems, paginate, currentPage }) => {\r\n  const pageNumbers = [];\r\n  for (let i = 1; i <= Math.ceil(totalItems / itemPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination justify-content-center\">\r\n        {pageNumbers.map(number => (\r\n          <li key={number} className={`page-item ${currentPage === number ? 'active' : ''}`}>\r\n            {/* 페이지 번호 클릭 시 페이지 변경 함수 호출 */}\r\n            <a onClick={(e) => { e.preventDefault(); paginate(number); }} href=\"!#\" className='page-link'>\r\n              {number}\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default AdminObo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}