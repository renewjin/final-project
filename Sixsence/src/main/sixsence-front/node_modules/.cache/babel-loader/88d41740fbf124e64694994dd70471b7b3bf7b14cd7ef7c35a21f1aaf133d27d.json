{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import useCart from'../hooks/useCart';import ItemNavigationBar from'./ItemNavigationBar';import'./Item.css';import LoginContext from'../login/LoginContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ItemDetail=()=>{const{loginMember}=useContext(LoginContext);const location=useLocation();const{item}=location.state||{};const{addCartItem,cartItemCount}=useCart();const navigate=useNavigate();const[itemCount,setItemCount]=useState(1);// 아이템 수량\nconst[sumPrice,setSumPrice]=useState(item.itemPrice);// 아이템 수량에 따른 가격\n// 수량 감소 버튼\nconst decreasItemCount=()=>{setItemCount(itemCount>1?itemCount-1:1);};// 수량 증가 버튼\nconst increasItemCount=()=>{setItemCount(itemCount<9?itemCount+1:9);};// 총금액 업데이트\nuseEffect(()=>{setSumPrice(item.itemPrice*itemCount);},[itemCount,item.itemPrice]);// 구매하기\nconst purchase=()=>{if(!loginMember){// 로그인 했을 때\nconst shouldNavigate=window.confirm(\"로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?\");if(shouldNavigate){// 확인버튼\nnavigate('/memberLogin');return;}else{// 취소버튼\nreturn;}}// 구매하기 페이지로 이동 및 데이터 전송\nconst purchaseData={itemNo:item.itemNo,itemName:item.itemName,itemImage:item.itemImage,itemPackage:item.itemPackage,itemPrice:item.itemPrice,itemPayCount:itemCount,itemPayPrice:sumPrice};navigate('/store/purchase',{state:{items:[purchaseData]}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-nav\",children:/*#__PURE__*/_jsx(ItemNavigationBar,{cartItemCount:cartItemCount})}),/*#__PURE__*/_jsx(\"div\",{className:\"item-detail-container\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"item-detail\",children:[/*#__PURE__*/_jsx(\"h1\",{children:item.itemName}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-detail-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.itemImage,alt:item.itemName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-text\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uAE08\\uC561\"}),\" : \",item.itemPrice,\" \\uC6D0\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uAD6C\\uC131\\uD488\"}),\" : \",item.itemPackage]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD310\\uB9E4\\uC218\\uB7C9\"}),\" : 1\\uD68C 9\\uAC1C \\uAD6C\\uB9E4\\uAC00\\uB2A5\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC0C1\\uD488\\uC124\\uBA85\"}),\" : \",item.itemDes]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-price\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-price-button\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC218 \\uB7C9\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:decreasItemCount,children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:itemCount,readOnly:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:increasItemCount,children:\"+\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-detail-price-text\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uCD1D \\uAC00\\uACA9 : \",sumPrice]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-button\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>addCartItem({...item,shoppingCount:itemCount,shoppingPrice:sumPrice}),children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:purchase,children:\"\\uAD6C\\uB9E4\\uD558\\uAE30\"})]})]})]})]})})]});};export default ItemDetail;","map":{"version":3,"names":["React","useState","useContext","useEffect","useLocation","useNavigate","useCart","ItemNavigationBar","LoginContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ItemDetail","loginMember","location","item","state","addCartItem","cartItemCount","navigate","itemCount","setItemCount","sumPrice","setSumPrice","itemPrice","decreasItemCount","increasItemCount","purchase","shouldNavigate","window","confirm","purchaseData","itemNo","itemName","itemImage","itemPackage","itemPayCount","itemPayPrice","items","children","className","src","alt","itemDes","type","onClick","value","readOnly","shoppingCount","shoppingPrice"],"sources":["C:/Users/user1/Desktop/sixsence/Sixsence/src/main/sixsence-front/src/store/ItemDetail.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport useCart from '../hooks/useCart'; \r\nimport ItemNavigationBar from './ItemNavigationBar';\r\nimport './Item.css';\r\nimport LoginContext from '../login/LoginContext';\r\n\r\nconst ItemDetail = () => {\r\n    const { loginMember } = useContext(LoginContext);\r\n    const location = useLocation(); \r\n    const { item } = location.state || {};\r\n    const { addCartItem, cartItemCount } = useCart();\r\n    const navigate = useNavigate();\r\n\r\n    const [itemCount, setItemCount] = useState(1); // 아이템 수량\r\n    const [sumPrice, setSumPrice] = useState(item.itemPrice); // 아이템 수량에 따른 가격\r\n\r\n    // 수량 감소 버튼\r\n    const decreasItemCount = () => {\r\n        setItemCount(itemCount > 1 ? itemCount - 1 : 1);\r\n    }\r\n\r\n    // 수량 증가 버튼\r\n    const increasItemCount = () => {\r\n        setItemCount(itemCount < 9 ? itemCount + 1 : 9);\r\n    }\r\n\r\n    // 총금액 업데이트\r\n    useEffect(() => {\r\n        setSumPrice(item.itemPrice * itemCount);\r\n    }, [itemCount, item.itemPrice]);\r\n\r\n    // 구매하기\r\n    const purchase = () => {\r\n        \r\n        if (!loginMember) { // 로그인 했을 때\r\n            const shouldNavigate = window.confirm(\"로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?\");\r\n            if (shouldNavigate) { // 확인버튼\r\n                navigate('/memberLogin');\r\n                return;\r\n            } else { // 취소버튼\r\n                return\r\n            }\r\n        }\r\n\r\n        // 구매하기 페이지로 이동 및 데이터 전송\r\n        const purchaseData = {\r\n            itemNo: item.itemNo,\r\n            itemName: item.itemName,\r\n            itemImage: item.itemImage,\r\n            itemPackage: item.itemPackage,\r\n            itemPrice: item.itemPrice,\r\n            itemPayCount: itemCount,\r\n            itemPayPrice: sumPrice\r\n        };\r\n        navigate('/store/purchase', { state: { items: [purchaseData] } });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='item-nav'>\r\n                <ItemNavigationBar cartItemCount={cartItemCount}/>\r\n            </div>\r\n            <div className='item-detail-container'>\r\n                <section className='item-detail'>\r\n                    <h1>{item.itemName}</h1>\r\n                    <div className='item-detail-row'>\r\n                        <div className='item-detail-image'>\r\n                            <img src={item.itemImage} alt={item.itemName} />\r\n                        </div>\r\n                        <div className='item-detail-info'>\r\n                            <div className='item-detail-text'>\r\n                                <p><strong>금액</strong> : {item.itemPrice} 원</p>\r\n                                <p><strong>구성품</strong> : {item.itemPackage}</p>\r\n                                <p><strong>판매수량</strong> : 1회 9개 구매가능</p>\r\n                                <p><strong>상품설명</strong> : {item.itemDes}</p>\r\n                            </div>\r\n                            <div className='item-detail-price'>\r\n                                <div className='item-detail-price-button'>\r\n                                    <strong>수 량</strong>\r\n                                    <button type='button' onClick={decreasItemCount}>-</button>\r\n                                    <input type='text' value={itemCount} readOnly/>\r\n                                    <button type='button' onClick={increasItemCount}>+</button>\r\n                                </div>\r\n                                <div className='item-detail-price-text'>\r\n                                    <p>총 가격 : {sumPrice}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className='item-detail-button'>\r\n                                <button onClick={() => addCartItem({ ...item, shoppingCount: itemCount, shoppingPrice: sumPrice })}>&#128722;</button>\r\n                                {/* \r\n                                { ...item, shoppingCount: itemCount, shoppingPrice: sumPrice }\r\n                                 기존 item 객체의 모든 속성에 shoppingCount, shoppingPrice 속성이 추가 */}\r\n                                <button onClick={purchase}>구매하기</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ItemDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}