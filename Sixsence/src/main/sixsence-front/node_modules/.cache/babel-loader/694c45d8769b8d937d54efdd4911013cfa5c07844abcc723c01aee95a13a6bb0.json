{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import useCart from'../hooks/useCart';import LoginContext from'../login/LoginContext';//const ItemNavigationBar = () => {\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ItemNavigationBar=_ref=>{let{cartItemCount}=_ref;const{loginMember}=useContext(LoginContext);const navigate=useNavigate();const{cartItems}=useCart();const[itemCount,setItemCount]=useState(0);useEffect(()=>{setItemCount(cartItems.length);},[loginMember,cartItems]);/*\r\n    useEffect(()=> {\r\n        console.log(\"111111111\")\r\n        const handleCartUpdate = () => {\r\n            console.log(\"2222222\")\r\n            setItemCount(cartItems.length);\r\n        }\r\n        window.addEventListener('cartUpdated', handleCartUpdate);\r\n\r\n        return () => {\r\n            window.removeEventListener('cartUpdated', handleCartUpdate);\r\n        };\r\n    }, [cartItems])\r\n    \r\n    const handleCartUpdate = () => {\r\n        console.log(\"2222222\")\r\n        setItemCount(cartItems.length);\r\n    }\r\n    */const loginCheck=()=>{if(!loginMember){const shouldNavigate=window.confirm(\"로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?\");if(shouldNavigate){navigate('/memberLogin');return;}else{return;}}else{navigate('/store/user-cart');}};return/*#__PURE__*/_jsx(\"nav\",{className:\"item-nav\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/store?itemType=1\",children:\"\\uCF64\\uBCF4\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/store?itemType=2\",children:\"\\uD31D\\uCF58\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/store?itemType=3\",children:\"\\uC74C\\uB8CC\"})}),/*#__PURE__*/_jsx(Link,{to:\"/store/user-cart\"}),/*#__PURE__*/_jsxs(\"li\",{onClick:loginCheck,children:[\"Cart\",/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:cartItemCount})]})]})});};export default ItemNavigationBar;","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","useNavigate","useCart","LoginContext","jsx","_jsx","jsxs","_jsxs","ItemNavigationBar","_ref","cartItemCount","loginMember","navigate","cartItems","itemCount","setItemCount","length","loginCheck","shouldNavigate","window","confirm","className","children","to","onClick"],"sources":["C:/Users/user1/Desktop/sixsence/Sixsence/src/main/sixsence-front/src/store/ItemNavigationBar.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport useCart from '../hooks/useCart';\r\nimport LoginContext from '../login/LoginContext';\r\n\r\n\r\n//const ItemNavigationBar = () => {\r\nconst ItemNavigationBar = ({cartItemCount}) => {\r\n    const { loginMember } = useContext(LoginContext);\r\n    const navigate = useNavigate();\r\n    const {cartItems} = useCart();\r\n    const [itemCount, setItemCount] = useState(0);\r\n    \r\n    \r\n    \r\n    useEffect(()=> {\r\n        setItemCount(cartItems.length);\r\n    }, [loginMember, cartItems])\r\n    \r\n    /*\r\n    useEffect(()=> {\r\n        console.log(\"111111111\")\r\n        const handleCartUpdate = () => {\r\n            console.log(\"2222222\")\r\n            setItemCount(cartItems.length);\r\n        }\r\n        window.addEventListener('cartUpdated', handleCartUpdate);\r\n\r\n        return () => {\r\n            window.removeEventListener('cartUpdated', handleCartUpdate);\r\n        };\r\n    }, [cartItems])\r\n    \r\n    const handleCartUpdate = () => {\r\n        console.log(\"2222222\")\r\n        setItemCount(cartItems.length);\r\n    }\r\n    */\r\n    const loginCheck = () => {\r\n        if (!loginMember) {\r\n            const shouldNavigate = window.confirm(\"로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?\");\r\n            if (shouldNavigate) {\r\n                navigate('/memberLogin');\r\n                return;\r\n            } else {\r\n                return;\r\n            }\r\n        } else {\r\n            navigate('/store/user-cart');\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <nav className='item-nav'>\r\n            <ul>\r\n                <li><Link to=\"/store?itemType=1\">콤보</Link></li>\r\n                <li><Link to=\"/store?itemType=2\">팝콘</Link></li>\r\n                <li><Link to=\"/store?itemType=3\">음료</Link></li>\r\n                {/* <span class=\"badge bg-secondary\">0</span></li>에 0 대신 변수값 넣어야 함 \r\n                -> 로그인한 아이디의 장바구니 데이터들을 불러와 길이만큼 값을 나타냄 {로그인한아이디의cart길이} */}\r\n                {/*<li><Link to=\"/store/user-cart\">Cart</Link><span className=\"badge bg-secondary\">{itemCount}</span></li>*/}\r\n                <Link to=\"/store/user-cart\"></Link>\r\n                <li onClick={loginCheck}>Cart<span className=\"badge bg-secondary\">{cartItemCount}</span></li>\r\n                \r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ItemNavigationBar;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,OAAO,KAAM,kBAAkB,CACtC,MAAO,CAAAC,YAAY,KAAM,uBAAuB,CAGhD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAAqB,IAApB,CAACC,aAAa,CAAC,CAAAD,IAAA,CACtC,KAAM,CAAEE,WAAY,CAAC,CAAGd,UAAU,CAACM,YAAY,CAAC,CAChD,KAAM,CAAAS,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACY,SAAS,CAAC,CAAGX,OAAO,CAAC,CAAC,CAC7B,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAI7CD,SAAS,CAAC,IAAK,CACXiB,YAAY,CAACF,SAAS,CAACG,MAAM,CAAC,CAClC,CAAC,CAAE,CAACL,WAAW,CAAEE,SAAS,CAAC,CAAC,CAE5B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MACI,KAAM,CAAAI,UAAU,CAAGA,CAAA,GAAM,CACrB,GAAI,CAACN,WAAW,CAAE,CACd,KAAM,CAAAO,cAAc,CAAGC,MAAM,CAACC,OAAO,CAAC,gCAAgC,CAAC,CACvE,GAAIF,cAAc,CAAE,CAChBN,QAAQ,CAAC,cAAc,CAAC,CACxB,OACJ,CAAC,IAAM,CACH,OACJ,CACJ,CAAC,IAAM,CACHA,QAAQ,CAAC,kBAAkB,CAAC,CAChC,CACJ,CAAC,CAED,mBACIP,IAAA,QAAKgB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACrBf,KAAA,OAAAe,QAAA,eACIjB,IAAA,OAAAiB,QAAA,cAAIjB,IAAA,CAACL,IAAI,EAACuB,EAAE,CAAC,mBAAmB,CAAAD,QAAA,CAAC,cAAE,CAAM,CAAC,CAAI,CAAC,cAC/CjB,IAAA,OAAAiB,QAAA,cAAIjB,IAAA,CAACL,IAAI,EAACuB,EAAE,CAAC,mBAAmB,CAAAD,QAAA,CAAC,cAAE,CAAM,CAAC,CAAI,CAAC,cAC/CjB,IAAA,OAAAiB,QAAA,cAAIjB,IAAA,CAACL,IAAI,EAACuB,EAAE,CAAC,mBAAmB,CAAAD,QAAA,CAAC,cAAE,CAAM,CAAC,CAAI,CAAC,cAI/CjB,IAAA,CAACL,IAAI,EAACuB,EAAE,CAAC,kBAAkB,CAAO,CAAC,cACnChB,KAAA,OAAIiB,OAAO,CAAEP,UAAW,CAAAK,QAAA,EAAC,MAAI,cAAAjB,IAAA,SAAMgB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEZ,aAAa,CAAO,CAAC,EAAI,CAAC,EAE7F,CAAC,CACJ,CAAC,CAEd,CAAC,CAED,cAAe,CAAAF,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}