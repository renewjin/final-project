{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"../Moviechart/Moviechart.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MovieChart=()=>{const[movieChart,setMovieChart]=useState([]);const[movieOption,setMovieOption]=useState(\"rating\");useEffect(()=>{const fetchMovies=async()=>{try{const response=await axios.get(\"/moviepay/movies\");setMovieChart(response.data);}catch(err){console.error(\"Error loading movie data: \",err);alert(\"데이터를 불러오는 중 오류가 발생했습니다.\");}};fetchMovies();},[]);const handleOption=e=>{setMovieOption(e.target.value);};const sortedMovies=[...movieChart].sort((a,b)=>{if(movieOption===\"rating\"){return b.vote_average-a.vote_average;}else if(movieOption===\"alphabetical\"){return a.movieTitle.localeCompare(b.movieTitle,\"ko\");}return 0;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie-options\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"alphabetical\",checked:movieOption===\"alphabetical\",onChange:handleOption}),\"\\uAC00\\uB098\\uB2E4\\uC21C\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"rating\",checked:movieOption===\"rating\",onChange:handleOption}),\"\\uD3C9\\uC810\\uC21C\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"moviechart-container\",children:sortedMovies.slice(0,20).map(movie=>/*#__PURE__*/_jsxs(\"div\",{className:\"moviechart-movies\",children:[/*#__PURE__*/_jsx(\"img\",{src:movie.movieImage,alt:movie.movieTitle}),/*#__PURE__*/_jsx(\"h2\",{children:movie.movieTitle}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD3C9\\uC810 : \",movie.vote_average]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uAC1C\\uBD09\\uC77C : \",movie.release_date]}),/*#__PURE__*/_jsx(\"a\",{href:`/movie/${movie.movieNo}`,className:\"btnone\",children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"a\",{href:`/Movieboard-app?movieId=${movie.movieNo}`,className:\"btn\",children:\"\\uC608\\uB9E4\\uD558\\uAE30\"})]},movie.movieNo))})]});};export default MovieChart;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","MovieChart","movieChart","setMovieChart","movieOption","setMovieOption","fetchMovies","response","get","data","err","console","error","alert","handleOption","e","target","value","sortedMovies","sort","a","b","vote_average","movieTitle","localeCompare","children","className","type","checked","onChange","slice","map","movie","src","movieImage","alt","release_date","href","movieNo"],"sources":["C:/Users/user1/Desktop/sixsence/Sixsence/src/main/sixsence-front/src/moviechart/Moviechart/Moviechart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../Moviechart/Moviechart.css\";\r\n\r\nconst MovieChart = () => {\r\n  const [movieChart, setMovieChart] = useState([]);\r\n  const [movieOption, setMovieOption] = useState(\"rating\");\r\n\r\n  useEffect(() => {\r\n    const fetchMovies = async () => {\r\n      try {\r\n        const response = await axios.get(\"/moviepay/movies\");\r\n        setMovieChart(response.data);\r\n      } catch (err) {\r\n        console.error(\"Error loading movie data: \", err);\r\n        alert(\"데이터를 불러오는 중 오류가 발생했습니다.\");\r\n      }\r\n    };\r\n    fetchMovies();\r\n  }, []);\r\n\r\n  const handleOption = (e) => {\r\n    setMovieOption(e.target.value);\r\n  };\r\n\r\n  const sortedMovies = [...movieChart].sort((a, b) => {\r\n    if (movieOption === \"rating\") {\r\n      return b.vote_average - a.vote_average;\r\n    } else if (movieOption === \"alphabetical\") {\r\n      return a.movieTitle.localeCompare(b.movieTitle, \"ko\");\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"movie-options\">\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            value=\"alphabetical\"\r\n            checked={movieOption === \"alphabetical\"}\r\n            onChange={handleOption}\r\n          />\r\n          가나다순\r\n        </label>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            value=\"rating\"\r\n            checked={movieOption === \"rating\"}\r\n            onChange={handleOption}\r\n          />\r\n          평점순\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"moviechart-container\">\r\n        {sortedMovies.slice(0, 20).map((movie) => (\r\n          <div key={movie.movieNo} className=\"moviechart-movies\">\r\n            <img src={movie.movieImage} alt={movie.movieTitle} />\r\n            <h2>{movie.movieTitle}</h2>\r\n            <p>평점 : {movie.vote_average}</p>\r\n            <p>개봉일 : {movie.release_date}</p>\r\n            <a href={`/movie/${movie.movieNo}`} className=\"btnone\">\r\n              상세보기\r\n            </a>\r\n            <a href={`/Movieboard-app?movieId=${movie.movieNo}`} className=\"btn\">\r\n              예매하기\r\n            </a>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}