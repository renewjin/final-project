{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./MypageCss.css\";import axios from\"axios\";import loadingIcon from\"./images/loadingIcon.gif\";import chicken1 from\"./images/chicken1icon.png\";import{FaRegStar,FaStar}from\"react-icons/fa\";import MypageModal from\"./MypageModal\";import Modal from\"react-modal\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement(\"#root\");const MypageComment=()=>{const loginMemeber=JSON.parse(localStorage.getItem(\"loginMember\"));const[commentList,setCommentList]=useState([]);const[loading,setLoading]=useState(true);const[modalOpen,setModalOpen]=useState(false);const[cancelList,setCancelList]=useState(\"\");useEffect(()=>{getCommentList();},[]);const getCommentList=()=>{setLoading(true);axios.get(\"/getCommentListMypage\",{params:{memberNo:loginMemeber.memberNo}}).then(response=>{setCommentList(response.data);setTimeout(function(){setLoading(false);},1000);});};const openModal=cancel=>{setModalOpen(true);setCancelList(cancel);};const closeModal=()=>{setModalOpen(false);};const handleButtonClick=input=>{if(input!==\"Cancel\"){axios.delete(\"/deleteCommentMypage\",{params:{coid:input}});setTimeout(function(){getCommentList();},1000);}closeModal();};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"contentMainContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"outBox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inBox\",children:[/*#__PURE__*/_jsx(\"img\",{src:loadingIcon,alt:\"\\uB85C\\uB529\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uB529 \\uC911...\"})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"contentMainContainer\",children:[commentList===null||commentList.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"outBox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inBox\",children:[/*#__PURE__*/_jsx(\"img\",{src:chicken1,alt:\"\\uB2ED1\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC791\\uC131\\uD55C \\uD55C\\uC904\\uD3C9\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"contentMainContainer\",children:commentList.map(list=>/*#__PURE__*/_jsxs(\"div\",{className:\"commentBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"area1\",children:/*#__PURE__*/_jsx(\"img\",{src:`.${list.movieImage}`})}),/*#__PURE__*/_jsxs(\"div\",{className:\"area2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"star-rating\",children:[1,2,3,4,5].map(value=>value<=list.score?/*#__PURE__*/_jsx(FaStar,{size:30,className:\"star selected\"},value):/*#__PURE__*/_jsx(FaRegStar,{size:30,className:\"star\"},value))}),/*#__PURE__*/_jsx(\"p\",{children:list.text})]}),/*#__PURE__*/_jsx(\"div\",{className:\"area3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"commentBtn\",onClick:e=>openModal(list.coid),children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"})})]},list.coid))}),/*#__PURE__*/_jsx(MypageModal,{modalOpen:modalOpen,cancelList:cancelList,handleButtonClick:handleButtonClick,handleComment:\"comment\"})]});};export default MypageComment;","map":{"version":3,"names":["React","useEffect","useState","axios","loadingIcon","chicken1","FaRegStar","FaStar","MypageModal","Modal","jsx","_jsx","jsxs","_jsxs","setAppElement","MypageComment","loginMemeber","JSON","parse","localStorage","getItem","commentList","setCommentList","loading","setLoading","modalOpen","setModalOpen","cancelList","setCancelList","getCommentList","get","params","memberNo","then","response","data","setTimeout","openModal","cancel","closeModal","handleButtonClick","input","delete","coid","className","children","src","alt","length","map","list","movieImage","value","score","size","text","onClick","e","handleComment"],"sources":["C:/Users/user1/Desktop/sixsence/Sixsence/src/main/sixsence-front/src/mypage/MypageComment.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./MypageCss.css\";\r\nimport axios from \"axios\";\r\nimport loadingIcon from \"./images/loadingIcon.gif\";\r\nimport chicken1 from \"./images/chicken1icon.png\";\r\nimport { FaRegStar, FaStar } from \"react-icons/fa\";\r\nimport MypageModal from \"./MypageModal\";\r\nimport Modal from \"react-modal\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst MypageComment = () => {\r\n  const loginMemeber = JSON.parse(localStorage.getItem(\"loginMember\"));\r\n  const [commentList, setCommentList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [cancelList, setCancelList] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    getCommentList();\r\n  }, []);\r\n\r\n  const getCommentList = () => {\r\n    setLoading(true);\r\n\r\n    axios\r\n      .get(\"/getCommentListMypage\", {\r\n        params: { memberNo: loginMemeber.memberNo },\r\n      })\r\n      .then((response) => {\r\n        setCommentList(response.data);\r\n        setTimeout(function () {\r\n          setLoading(false);\r\n        }, 1000);\r\n      });\r\n  };\r\n\r\n  const openModal = (cancel) => {\r\n    setModalOpen(true);\r\n    setCancelList(cancel);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalOpen(false);\r\n  };\r\n\r\n  const handleButtonClick = (input) => {\r\n    if (input !== \"Cancel\") {\r\n      axios.delete(\"/deleteCommentMypage\", { params: { coid: input } });\r\n\r\n      setTimeout(function () {\r\n        getCommentList();\r\n      }, 1000);\r\n    }\r\n    closeModal();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"contentMainContainer\">\r\n        <div className=\"outBox\">\r\n          <div className=\"inBox\">\r\n            <img src={loadingIcon} alt=\"로딩\" />\r\n            <p>로딩 중...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"contentMainContainer\">\r\n      {commentList === null || commentList.length === 0 ? (\r\n        <div className=\"outBox\">\r\n          <div className=\"inBox\">\r\n            <img src={chicken1} alt=\"닭1\" />\r\n            <p>작성한 한줄평이 없습니다.</p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"contentMainContainer\">\r\n          {commentList.map((list) => (\r\n            <div key={list.coid} className=\"commentBox\">\r\n              <div className=\"area1\">\r\n                <img src={`.${list.movieImage}`} />\r\n              </div>\r\n              <div className=\"area2\">\r\n                <div className=\"star-rating\">\r\n                  {[1, 2, 3, 4, 5].map((value) =>\r\n                    value <= list.score ? (\r\n                      <FaStar key={value} size={30} className=\"star selected\" />\r\n                    ) : (\r\n                      <FaRegStar key={value} size={30} className=\"star\" />\r\n                    )\r\n                  )}\r\n                </div>\r\n                <p>{list.text}</p>\r\n              </div>\r\n              <div className=\"area3\">\r\n                <button\r\n                  className=\"commentBtn\"\r\n                  onClick={(e) => openModal(list.coid)}\r\n                >\r\n                  삭제하기\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <MypageModal\r\n        modalOpen={modalOpen}\r\n        cancelList={cancelList}\r\n        handleButtonClick={handleButtonClick}\r\n        handleComment={\"comment\"}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MypageComment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}