{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate,Outlet}from\"react-router-dom\";import MypageNavbar from\"./MypageNavbar\";import\"./MypageCss.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MypageMain=()=>{const[loginMember,setLoginMember]=useState(JSON.parse(localStorage.getItem(\"loginMember\")));const navi=useNavigate();useEffect(()=>{if(localStorage.getItem(\"loginMember\")===null){alert(\"해당 서비스는 로그인 후 이용 가능합니다.\\n로그인을 먼저 진행해주세요.\");navi(\"/memberlogin\");}});useEffect(()=>{const handleChange=()=>{setLoginMember(JSON.parse(localStorage.getItem(\"loginMember\")));};window.addEventListener(\"storageChange\",handleChange);return()=>{window.removeEventListener(\"storageChange\",handleChange);};},[]);return/*#__PURE__*/_jsx(\"div\",{children:loginMember!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"mypageContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mypageUserForm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mypageGrade\",children:loginMember.memberGrade}),/*#__PURE__*/_jsxs(\"p\",{className:\"mypageWelcome\",children:[loginMember.memberName,\" \\uB2D8 \\uBC18\\uAC00\\uC6CC\\uC694!\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mypagePoint\",children:[\"\\uB9C8\\uC77C\\uB9AC\\uC9C0 : \",loginMember.memberPoint,\" p\"]})]}),/*#__PURE__*/_jsx(MypageNavbar,{}),/*#__PURE__*/_jsx(Outlet,{})]})});};export default MypageMain;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Outlet","MypageNavbar","jsx","_jsx","jsxs","_jsxs","MypageMain","loginMember","setLoginMember","JSON","parse","localStorage","getItem","navi","alert","handleChange","window","addEventListener","removeEventListener","children","className","memberGrade","memberName","memberPoint"],"sources":["C:/Users/user1/Desktop/sixsence/Sixsence/src/main/sixsence-front/src/mypage/MypageMain.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, Outlet } from \"react-router-dom\";\r\nimport MypageNavbar from \"./MypageNavbar\";\r\nimport \"./MypageCss.css\";\r\n\r\nconst MypageMain = () => {\r\n  const [loginMember, setLoginMember] = useState(\r\n    JSON.parse(localStorage.getItem(\"loginMember\"))\r\n  );\r\n  const navi = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"loginMember\") === null) {\r\n      alert(\r\n        \"해당 서비스는 로그인 후 이용 가능합니다.\\n로그인을 먼저 진행해주세요.\"\r\n      );\r\n      navi(\"/memberlogin\");\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleChange = () => {\r\n      setLoginMember(JSON.parse(localStorage.getItem(\"loginMember\")));\r\n    };\r\n    \r\n    window.addEventListener(\"storageChange\", handleChange);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storageChange\", handleChange);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {loginMember !== null && (\r\n        <div className=\"mypageContainer\">\r\n          <div className=\"mypageUserForm\">\r\n            <p className=\"mypageGrade\">{loginMember.memberGrade}</p>\r\n            <p className=\"mypageWelcome\">\r\n              {loginMember.memberName} 님 반가워요!\r\n            </p>\r\n            <p className=\"mypagePoint\">\r\n              마일리지 : {loginMember.memberPoint} p\r\n            </p>\r\n          </div>\r\n          <MypageNavbar />\r\n          <Outlet />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MypageMain;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,MAAM,KAAQ,kBAAkB,CACtD,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAC5CW,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAChD,CAAC,CACD,KAAM,CAAAC,IAAI,CAAGd,WAAW,CAAC,CAAC,CAE1BF,SAAS,CAAC,IAAM,CACd,GAAIc,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,GAAK,IAAI,CAAE,CAChDE,KAAK,CACH,0CACF,CAAC,CACDD,IAAI,CAAC,cAAc,CAAC,CACtB,CACF,CAAC,CAAC,CAEFhB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,YAAY,CAAGA,CAAA,GAAM,CACzBP,cAAc,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CACjE,CAAC,CAEDI,MAAM,CAACC,gBAAgB,CAAC,eAAe,CAAEF,YAAY,CAAC,CAEtD,MAAO,IAAM,CACXC,MAAM,CAACE,mBAAmB,CAAC,eAAe,CAAEH,YAAY,CAAC,CAC3D,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEZ,IAAA,QAAAgB,QAAA,CACGZ,WAAW,GAAK,IAAI,eACnBF,KAAA,QAAKe,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9Bd,KAAA,QAAKe,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BhB,IAAA,MAAGiB,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAEZ,WAAW,CAACc,WAAW,CAAI,CAAC,cACxDhB,KAAA,MAAGe,SAAS,CAAC,eAAe,CAAAD,QAAA,EACzBZ,WAAW,CAACe,UAAU,CAAC,mCAC1B,EAAG,CAAC,cACJjB,KAAA,MAAGe,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,6BAClB,CAACZ,WAAW,CAACgB,WAAW,CAAC,IAClC,EAAG,CAAC,EACD,CAAC,cACNpB,IAAA,CAACF,YAAY,GAAE,CAAC,cAChBE,IAAA,CAACH,MAAM,GAAE,CAAC,EACP,CACN,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAM,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}